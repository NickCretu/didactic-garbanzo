---
// Root index - redirects to appropriate language based on browser preference
const base = import.meta.env.BASE_URL || '/';
const baseClean = base.endsWith('/') ? base.slice(0, -1) : base;
---

<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Redirecting...</title>
    <script is:inline define:vars={{ baseClean }}>
      (function() {
        const supportedLangs = ['en', 'ru', 'ro'];
        const browserLang = navigator.language.split('-')[0];
        const targetLang = supportedLangs.includes(browserLang) ? browserLang : 'en';
        window.location.replace(baseClean + '/' + targetLang + '/');
      })();
    </script>
    <noscript>
      <meta http-equiv="refresh" content={`0; url=${baseClean}/en/`} />
    </noscript>
  </head>
  <body>
    <p>Redirecting to <a href={`${baseClean}/en/`}>English version</a>...</p>
  </body>
</html>
